import streamlit as st
import sqlite3

# Database
conn = sqlite3.connect("data.db", check_same_thread=False)
c = conn.cursor()
c.execute("CREATE TABLE IF NOT EXISTS aspirasi (pesan TEXT)")
conn.commit()

# Konfigurasi halaman
st.set_page_config(page_title="SINAR ASA", layout="centered")

# HEADER
st.title("POSMAR")
st.subheader("SINAR ASA")

# FOTO (nanti ganti)
st.image("posmar.jpg", width=300)

# MENU
menu = st.selectbox(
    "Menu",
    ["Home", "Kalender Event", "Aspirasi", "Dokumentasi"]
)

# HOME
if menu == "Home":
    st.success("Selamat datang di aplikasi resmi POSMAR")

# KALENDER
elif menu == "Kalender Event":
    st.header("Kalender Event POSMAR")
    event = st.text_input("Tambah Event")
    if st.button("Simpan Event"):
        st.info("Fitur event dikembangkan selanjutnya")

# ASPIRASI
elif menu == "Aspirasi":
    st.header("Aspirasi POSMAR")
    pesan = st.text_area("Tulis aspirasi kamu")
    if st.button("Kirim"):
        c.execute("INSERT INTO aspirasi VALUES (?)", (pesan,))
        conn.commit()
        st.success("Aspirasi terkirim")

    st.subheader("Aspirasi Masuk")
    data = c.execute("SELECT * FROM aspirasi").fetchall()
    for d in data:
        st.write("-", d[0])

# DOKUMENTASI
elif menu == "Dokumentasi":
    st.header("Dokumentasi POSMAR")
    st.link_button("Buka Google Drive", "https://drive.google.com")
